<script lang="ts">
    import { createEventDispatcher } from "svelte";
    import InfoBox from "$lib/components/InfoBox.svelte";
    import { goToUrl } from "$lib/services/router.service";

    const dispatch = createEventDispatcher<{ restartNewForm: void }>();
</script>

<div>
    <h1 class="fr-h3 text-center">D√©p√¥t termin√© avec succ√®s !</h1>

    <p>
        Merci pour votre contribution au partage des donn√©es sur les subventions publiques.
        <br />
        Votre fichier a √©t√© valid√© et int√©gr√© avec succ√®s dans notre base. üéâ
    </p>

    <p>Vous pouvez d√®s √† pr√©sent d√©poser un autre fichier pour un SIRET diff√©rent si besoin.</p>

    <InfoBox title="Pensez √† importer vos donn√©es sur data.gouv.fr">
        <p>
            Data.Subvention vous accompagne pour produire et d√©poser votre fichier SCDL sur notre outil. Pour respecter
            pleinement vos obligations en mati√®re d‚Äôopen data, nous vous encourageons √† publier √©galement ce jeu de
            donn√©es sur data.gouv.fr.
        </p>

        <a class="fr-link" href="https://www.legifrance.gouv.fr/jorf/id/JORFTEXT000034600552">Voir le texte de loi ‚Üí</a>
    </InfoBox>

    <div style="text-align: center;">
        <button on:click={() => goToUrl("/")} class="fr-btn fr-btn fr-mr-3v" type="button">Voir sur le portail</button>

        <button on:click={() => dispatch("restartNewForm")} class="fr-btn fr-btn--secondary fr-mr-3v" type="button">
            D√©poser un nouveau fichier
        </button>
    </div>
</div>
